---
import HeaderLink from './HeaderLink.astro'
import { SITE_TITLE } from '../consts'
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon'
import logo from '../../public/logo.svg'
---

<header>
  <nav class="bg-background text-foreground">
    <div
      class="container mx-auto flex px-6 justify-between items-center py-6"
    >
      <h2><a href="/"><Image width={50} src={logo} alt={'Logo'} /></a></h2>
      <div class="gap-14 hidden md:flex">
        <HeaderLink href="/">Home</HeaderLink>
        <HeaderLink href="/blog">Blog</HeaderLink>
        <HeaderLink href="/about">About</HeaderLink>
      </div>
      <button class="hidden md:block">
        <Icon name="ic:baseline-brightness-medium" />
      </button>
      <button class="md:hidden" id="nav-open-btn">
        <Icon name="ic:round-menu" />
      </button>

      <!-- Mobile nav -->
      <div
        class="translate-x-full fixed top-0 right-0 bg-white h-screen w-5/6 px-8 py-6 transition-transform z-40 shadow-2xl" id="mobile-menu"
      >
        <div class="flex justify-between">
          <button>
            <Icon name="ic:baseline-brightness-medium" />
          </button>
          <button id="nav-close-btn">
            <Icon name="ic:round-close" />
          </button>
        </div>
        <div class="flex flex-col items-center justify-center gap-12 pt-24">
          <HeaderLink href="/">Home</HeaderLink>
          <HeaderLink href="/blog">Blog</HeaderLink>
          <HeaderLink href="/about">About</HeaderLink>
        </div>
      </div>
    </div>
  </nav>

  <style lang="css">
    [astro-icon] {
      width: 26px;
    }
  </style>

	<script>
		function toggleNav() {
			document.querySelector('#mobile-menu')?.classList.toggle('translate-x-full')
		}

		document.querySelector('#nav-open-btn')?.addEventListener('click', toggleNav)
		document.querySelector('#nav-close-btn')?.addEventListener('click', toggleNav)
	</script>
</header>
